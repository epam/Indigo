cmake_minimum_required(VERSION 2.6)

project(IndigoRenderer C CXX)

INCLUDE(../../common/cmake/GetSystemVersion.cmake)
INCLUDE(../../common/cmake/MakeOutputPath.cmake)

set(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/${COMMON_OUTPUT_PATH}/lib)
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/${COMMON_OUTPUT_PATH}/bin)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/${COMMON_OUTPUT_PATH}/shared)
if(NOT MSVC)
	set(VISIBILITY_HIDDEN YES)
endif()
if(NOT BUILD_DEBUG)
    set(CMAKE_BUILD_TYPE Release)
else()
    set(CMAKE_BUILD_TYPE Debug)
endif()
if(UNIX)
	if (SUBSYSTEM_FOLDER_NAME MATCHES "x86")
		set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -m32")
		set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -m32")	
	elseif(SUBSYSTEM_FOLDER_NAME MATCHES "x64")
		set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -m64")
		set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -m64")
	endif()
endif()
add_subdirectory(../indigo "${CMAKE_CURRENT_BINARY_DIR}/indigo")
get_directory_property(ZLib_HEADERS_DIR DIRECTORY ../indigo DEFINITION ZLib_HEADERS_DIR)
get_directory_property(ZLIB_FOUND DIRECTORY ../indigo DEFINITION ZLIB_FOUND)
add_subdirectory(../../libpng-src "${CMAKE_CURRENT_BINARY_DIR}/png")
get_directory_property(PNG_INCLUDE_DIR DIRECTORY ../../libpng-src DEFINITION PNG_INCLUDE_DIR)
get_directory_property(PNG_LIBRARIES DIRECTORY ../../libpng-src DEFINITION PNG_LIBRARIES)
get_directory_property(PNG_FOUND DIRECTORY ../../libpng-src DEFINITION PNG_FOUND)
add_subdirectory(../../cairo-src/pixman "${CMAKE_CURRENT_BINARY_DIR}/pixman")
get_directory_property(Pixman_headers_dir DIRECTORY ../../cairo-src/pixman DEFINITION Pixman_headers_dir)
add_subdirectory(../../cairo-src/cairo "${CMAKE_CURRENT_BINARY_DIR}/cairo")
get_directory_property(Cairo_headers_dir DIRECTORY ../../cairo-src/cairo DEFINITION Cairo_headers_dir)
add_subdirectory(../../render2d "${CMAKE_CURRENT_BINARY_DIR}/render2d")
add_subdirectory(../../api/renderer "${CMAKE_CURRENT_BINARY_DIR}/renderer")


